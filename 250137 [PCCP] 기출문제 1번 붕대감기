## 회복량 한번에 계산 가능?
## 인덱싱 조심! dictionary 사용하자
## 최대 체력 구현

def solution(bandage, health, attacks):
    t, x, y = map(int, bandage)
    A = dict(attacks)
    attack_time = [attack[0] for attack in attacks]
    answer = 0
    add = 0
    max = health
    
    for i in range(attacks[-1][0]+1):
        if i in attack_time:
            health -= A[i]
            add = 0
            continue
        if health <= 0:
            answer = -1
            break
        
        add += 1
        
        if add == t:
            health = min(max, health + x + y)
            add = 0
        else:
            health = min(max, health + x)

    if answer != -1:
        answer = health
    if health == 0:
        answer = -1
    
    return answer
